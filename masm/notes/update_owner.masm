use.miden_id::registry
use.miden::active_note
use.std::sys

const.NOTE_INPUT_PTR=0

# Input to this note is a note input. So it is not directly pushed to stack
# Inputs: [new_owner_prefix, new_owner_suffix] (argument)
begin
    push.NOTE_INPUT_PTR
    exec.active_note::get_inputs
    push.0
    mem_loadw_be
    debug.stack
    drop drop
    call.registry::update_owner
    exec.sys::truncate_stack
end